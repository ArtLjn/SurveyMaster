
---

## 📂 项目目录结构图

```text
SurveyMaster
│── pom.xml
│── README.md
└── src
    ├── main
    │   ├── java/com/surveymaster
    │   │   ├── SurveyMasterApplication.java   # 启动类
    │   │   ├── config/        # 配置类 (Redis/MongoDB/RabbitMQ/ES/MySQL)
    │   │   ├── controller/    # 控制器层 (REST API)
    │   │   ├── service/       # 业务接口
    │   │   ├── service/impl/  # 业务实现
    │   │   ├── repository/    # DAO层：MySQL + MongoDB
    │   │   ├── model/         # 实体类 (JPA/MyBatis + MongoDoc)
    │   │   ├── dto/           # 数据传输对象 (请求参数)
    │   │   ├── vo/            # 视图对象 (响应返回)
    │   │   ├── mq/            # RabbitMQ 消息生产/消费
    │   │   └── util/          # 工具类
    │   └── resources/
    │       ├── application.yml   # 配置文件
    │       ├── static/           # 静态资源
    │       └── templates/        # Thymeleaf 模板(可选)
    └── test/java/com/surveymaster   # 单元测试
```

---

## 🔗 核心模块依赖图

```text
         ┌───────────────┐
         │   Controller  │   <-- 接收请求 / 返回响应
         └───────▲───────┘
                 │
         ┌───────┴───────┐
         │    Service    │   <-- 业务逻辑层
         └───────▲───────┘
                 │
      ┌──────────┼──────────┐
      │          │          │
┌─────┴─────┐┌───┴─────┐┌───┴──────┐
│Repository ││   MQ     ││   Cache  │
│(MySQL/    ││ RabbitMQ ││  Redis   │
│ MongoDB)  │└───▲──────┘└────▲─────┘
└─────▲─────┘    │             │
      │          │             │
      │          │             │
 ┌────┴────┐  ┌──┴─────┐  ┌────┴───────┐
 │  MySQL  │  │MongoDB │  │ Elasticsearch│
 └─────────┘  └────────┘  └─────────────┘
```

---

### 📝 解释：

* **MySQL** → 存用户、问卷、题目、选项等结构化数据
* **MongoDB** → 存用户的原始答案（JSON 灵活）
* **Redis** → 实时统计、热门问卷排行、用户 Session
* **RabbitMQ** → 异步解耦（提交答案 → 更新统计 & ES 同步）
* **Elasticsearch** → 搜索问卷（标题、描述、标签）

---

